<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome</title>
</head>
<body>

    <h1>Welcome to my website!</h1>

    <img src="assets/Andy.png" alt="Andy Warhol" width="300">

    <p>
        Click here for more info:
        <a
            href="warhol-bio.html"
            data-track="Andy Warhol Biography"
        >
            Andy Warhol Biography
        </a>
    </p>

    <h2>External Links</h2>

    <ul>
        <li>
            <a
                href="https://www.google.com/search?q=Andy+Warhol"
                target="_blank"
                rel="noopener noreferrer"
                data-track="Andy Warhol Google Search"
            >
                Andy Warhol on Google
            </a>
        </li>

        <li>
            <a
                href="https://en.wikipedia.org/wiki/Andy_Warhol"
                target="_blank"
                rel="noopener noreferrer"
                data-track="Andy Warhol Wikipedia"
            >
                Andy Warhol on Wikipedia
            </a>
        </li>
    </ul>

    <script>
        const TRACK_ENDPOINT =
            "https://sv1vmmuwf2.execute-api.eu-west-2.amazonaws.com/click";

        function trackClick(label, url) {
            fetch(TRACK_ENDPOINT, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    label: label,
                    url: url
                }),
                keepalive: true
            }).catch(() => {});
        }

        document.addEventListener("click", event => {
            const link = event.target.closest("a[data-track]");
            if (!link) return;

            trackClick(link.dataset.track, link.href);
        });
    </script>

</body>
</html>
